{"version":3,"sources":["app.js","dialogs/dialogs.js","forms/forms.js","home/home.js","js/alert.js","js/auth.js","js/datatables.js","js/navbar.js","js/socket.js","mongodb/mongodb.js","passport/passport.js","tables/carsProvider.js","tables/tables.js"],"names":["angular","module","config","$routeProvider","RestangularProvider","when","templateUrl","controller","otherwise","redirectTo","setResponseExtractor","response","payload","setRestangularFields","id","$scope","$modalInstance","items","selected","item","ok","close","cancel","dismiss","alertService","$modal","success","msg","info","warning","error","open","modalInstance","resolve","result","then","selectedItem","$http","birthDate","Date","firstName","lastName","email","sex","possibleInterests","selectedInterests","$event","preventDefault","stopPropagation","opened","format","get","data","backgrounds","window","$watch","newValue","$","css","toArray","obj","ret","key","push","name","value","dependencies","devDependencies","server","client","factory","me","toastr","promise","getAccount","next","logout","directive","scope","element","attrs","options","bStateSave","bJQueryUI","bPaginate","bLengthChange","bFilter","bInfo","bDestroy","sPaginationType","datatables","length","extend","$eval","columns","sorting","aaSorting","fnRowCallback","dataTable","$dataTable","search_input","closest","find","attr","addClass","length_sel","bind","e","console","log","val","fnClearTable","fnAddData","$location","restrict","link","path","each","k","li","$li","pattern","regexp","RegExp","test","removeClass","$rootScope","socket","io","connect","join","room","emit","on","eventName","callback","args","arguments","$apply","apply","Restangular","todoApi","all","getList","todos","todo","remove","_","without","save","put","create","newTodo","text","newText","done","post","authService","loggedIn","account","cars","price","category","action","carsProvider","formatTodo","m","moment","created","createdTextual","fromNow","todoColumnDefs","message","myCallback","nRow","aData","someClickHandler","columnDefs","sampleProductCategories"],"mappings":"AAAAA,QACAC,OAAA,UAAA,UAAA,cAAA,iBACAC,QACA,iBAAA,sBACA,SAAAC,EAAAC,GACAD,EACAE,KAAA,KAEAC,YAAA,iBACAC,WAAA,aAEAF,KAAA,UAEAC,YAAA,mBACAC,WAAA,cAEAF,KAAA,YAEAC,YAAA,uBACAC,WAAA,gBAEAF,KAAA,WAEAC,YAAA,qBACAC,WAAA,eAEAF,KAAA,YAEAC,YAAA,uBACAC,WAAA,gBAEAF,KAAA,aAEAC,YAAA,yBACAC,WAAA,iBAEAF,KAAA,UAEAC,YAAA,qBAGAE,WAEAC,WAAA,MAEAL,EAAAM,qBAAA,SAAAC,GACA,MAAAA,GAAAC,UAEAR,EAAAS,sBACAC,GAAA,WCjDAd,QAAAC,OAAA,UAAAM,WACA,qBAEA,SACA,iBACA,QACA,SAAAQ,EAAAC,EAAAC,GAEAF,EAAAE,MAAAA,EACAF,EAAAG,UACAC,KAAAJ,EAAAE,MAAA,IAGAF,EAAAK,GAAA,WACAJ,EAAAK,MAAAN,EAAAG,SAAAC,OAGAJ,EAAAO,OAAA,WACAN,EAAAO,QAAA,cAKAvB,QAAAC,OAAA,UAAAM,WACA,eAEA,SACA,eACA,SACA,SAAAQ,EAAAS,EAAAC,GACAV,EAAAW,QAAA,SAAAC,GACAH,EAAAE,QAAAC,IAEAZ,EAAAa,KAAA,SAAAD,GACAH,EAAAI,KAAAD,IAEAZ,EAAAc,QAAA,SAAAF,GACAH,EAAAK,QAAAF,IAEAZ,EAAAe,MAAA,SAAAH,GACAH,EAAAM,MAAAH,IAEAZ,EAAAE,OAAA,eAAA,wBAAA,eAAA,yBACAF,EAAAG,SAAAH,EAAAE,MAAA,GAEAF,EAAAgB,KAAA,WACA,GAAAC,GAAAP,EAAAM,MACAzB,YAAA,iBACAC,WAAA,oBACA0B,SACAhB,MAAA,WACA,MAAAF,GAAAE,SAIAe,GAAAE,OAAAC,KAAA,SAAAC,GACArB,EAAAG,SAAAkB,QCxDApC,QAAAC,OAAA,UAAAM,WACA,aAEA,SACA,QACA,SAAAQ,EAAAsB,GACAtB,EAAAuB,UAAA,GAAAC,MAAA,KAAA,EAAA,IACAxB,EAAAyB,UAAA,SACAzB,EAAA0B,SAAA,WACA1B,EAAA2B,MAAA,4BACA3B,EAAA4B,IAAA,OAEA5B,EAAA6B,mBACA,SAAA,YAAA,YACA,KAAA,SAAA,UAAA,aAGA7B,EAAA8B,qBAEA9B,EAAAgB,KAAA,SAAAe,GACAA,EAAAC,iBACAD,EAAAE,kBAEAjC,EAAAkC,QAAA,GAEAlC,EAAAmC,OAAA,aAEAb,EAAAc,IAAA,oBAAAzB,QAAA,SAAA0B,GACArC,EAAAsC,YAAAD,IAIAE,OAAAF,KAAArC,EAEAA,EAAAwC,OAAA,qBAAA,SAAAC,GACAA,GACAC,EAAA,QAAAC,IAAA,mBAAA,+BAAAF,EAAA,UCpCAxD,QAAAC,OAAA,UAAAM,WACA,YAEA,SACA,QACA,SAAAQ,EAAAsB,GACA,QAAAsB,GAAAC,GACA,GAAAC,KACA,IAAAD,EACA,IAAA,GAAAE,KAAAF,GACAC,EAAAE,MAAAC,KAAAF,EAAAG,MAAAL,EAAAE,IAGA,OAAAD,GAEAxB,EAAAc,IAAA,qBAAAzB,QAAA,SAAA0B,GACAA,EAAAc,aAAAP,EAAAP,EAAAc,cACAd,EAAAe,gBAAAR,EAAAP,EAAAe,iBACApD,EAAAqD,OAAAhB,IAEAf,EAAAc,IAAA,mBAAAzB,QAAA,SAAA0B,GACAA,EAAAc,aAAAP,EAAAP,EAAAc,cACAd,EAAAe,gBAAAR,EAAAP,EAAAe,iBACApD,EAAAsD,OAAAjB,OCvBApD,QAAAC,OAAA,UAAAqE,QACA,gBAEA,WACA,GAAAC,KAKA,OAJAA,GAAA7C,QAAA8C,OAAA9C,QACA6C,EAAA3C,KAAA4C,OAAA5C,KACA2C,EAAA1C,QAAA2C,OAAA3C,QACA0C,EAAAzC,MAAA0C,OAAA1C,MACAyC,KCTAvE,QAAAC,OAAA,UAAAqE,QACA,eAEA,QACA,SAAAjC,GACA,GAAAkC,MAEAE,EAAApC,EAAAc,IAAA,gBAeA,OAbAoB,GAAAG,WAAA,SAAAC,GACAF,EAAAtC,KAAA,SAAAD,GACAyC,EAAAzC,EAAAkB,SAIAmB,EAAAK,OAAA,SAAAD,GACAtC,EAAAc,IAAA,gBAAAhB,KAAA,WACAsC,EAAApC,EAAAc,IAAA,iBACAwB,OAIAJ,KCnBAvE,QAAAC,OAAA,UAAA4E,UACA,aAAA,WACA,MAAA,UAAAC,EAAAC,EAAAC,GAEA,GAAAC,IACAC,YAAA,EAEAC,WAAA,EACAC,WAAA,EACAC,eAAA,EACAC,SAAA,EACAC,OAAA,EACAC,UAAA,EACAC,gBAAA,YAEAT,GAAAU,YAAAV,EAAAU,WAAAC,OAAA,IACAV,EAAAxB,EAAAmC,OAAAX,EAAAH,EAAAe,MAAAb,EAAAU,cAEAV,EAAAc,UACAb,EAAAa,QAAAhB,EAAAe,MAAAb,EAAAc,UAEAd,EAAAe,UACAd,EAAAe,UAAAlB,EAAAe,MAAAb,EAAAe,UAEAf,EAAAiB,gBACAhB,EAAAgB,cAAAnB,EAAAe,MAAAb,EAAAiB,eAGA,IAAAC,GAAAnB,EAAAmB,UAAAjB,GAEAkB,EAAA1C,EAAAyC,GAEAE,EAAAD,EAAAE,QAAA,uBAAAC,KAAA,yBACAF,GAAAG,KAAA,cAAA,UACAH,EAAAI,SAAA,wBAEA,IAAAC,GAAAN,EAAAE,QAAA,uBAAAC,KAAA,0BACAG,GAAAD,SAAA,yBACAL,EAAAO,KAAA,OAAA,SAAAC,GACArD,OAAAsD,SAAAA,QAAAC,IAAA,oBAAAF,KAIA7B,EAAAvB,OAAAyB,EAAA5B,KAAA,SAAAa,GACA,GAAA6C,GAAA7C,GAAA,IACA6C,KACAZ,EAAAa,eACAb,EAAAc,UAAAlC,EAAAe,MAAAb,EAAA5B,UAEA,MClDApD,QAAAC,OAAA,UAAA4E,UAAA,YACA,YACA,SAAAoC,GACA,YAEA,QACAC,SAAA,IACAC,KAAA,SAAArC,EAAAC,GAEAD,EAAAvB,OAAA,WACA,MAAA0D,GAAAG,QACA,SAAA5D,GAEAC,EAAA,uBAAAsB,GAAAsC,KAAA,SAAAC,EAAAC,GACA,GAAAC,GAAAxH,QAAA+E,QAAAwC,GAEAE,EAAAD,EAAAjB,KAAA,oBACAmB,EAAA,GAAAC,QAAA,IAAAF,EAAA,KAAA,KAEAC,GAAAE,KAAApE,GACAgE,EAAAhB,SAAA,UAEAgB,EAAAK,YAAA,mBCxBA7H,QAAAC,OAAA,UAAAqE,QAAA,UAAA,aACA,SAAAwD,GACA,GAAAC,GAAAzE,OAAA0E,GAAAC,UACA1D,IAsBA,OArBAA,GAAA2D,KAAA,SAAAC,GACA5D,EAAA6D,KAAA,OAAAD,IAEA5D,EAAA8D,GAAA,SAAAC,EAAAC,GACAR,EAAAM,GAAAC,EAAA,WACA,GAAAE,GAAAC,SACAX,GAAAY,OAAA,WACAH,EAAAI,MAAAZ,EAAAS,QAIAjE,EAAA6D,KAAA,SAAAE,EAAAlF,EAAAmF,GACAR,EAAAK,KAAAE,EAAAlF,EAAA,WACA,GAAAoF,GAAAC,SACAX,GAAAY,OAAA,WACAH,GACAA,EAAAI,MAAAZ,EAAAS,QAKAjE,KCzBAvE,QAAAC,OAAA,UAAAM,WACA,eAEA,SACA,cACA,SAAAQ,EAAA6H,GACA,GAAAC,GAAAD,EAAAE,IAAA,cAEAD,GAAAE,UAAA5G,KAAA,SAAA6G,GACAjI,EAAAiI,MAAAA,IAGAjI,EAAAA,UAAA,SAAAkI,GAEAA,EAAAC,SAAA/G,KAAA,WAEApB,EAAAiI,MAAAG,EAAAC,QAAArI,EAAAiI,MAAAC,MAIAlI,EAAAsI,KAAA,SAAAJ,GACAA,EAAAK,OAGAvI,EAAAwI,OAAA,WACA,GAAAC,IAAAC,KAAA1I,EAAA2I,QAAAC,MAAA,EAEAd,GAAAe,KAAAJ,GAAArH,KAAA,WAEApB,EAAAiI,MAAAjF,KAAAyF,SC7BAxJ,QAAAC,OAAA,UAAAM,WACA,gBAEA,SACA,QACA,cACA,SAAAQ,EAAAsB,EAAAwH,GAEA9I,EAAA+I,UAAA,EAEAD,EAAAnF,WAAA,SAAAqF,GACAhJ,EAAAgJ,QAAAA,EACAhJ,EAAA+I,SAAAC,GAAAA,EAAAjJ,KAGAC,EAAA6D,OAAA,WACAiF,EAAAjF,OAAA,iBACA7D,GAAAgJ,QACAhJ,EAAA+I,UAAA,QClBA9J,QAAAC,OAAA,UAAAqE,QACA,gBAEA,WACA,OAAA0F,OAGAhG,KAAA,8BACAiG,MAAA,KACAC,SAAA,eACAC,OAAA,MAGAnG,KAAA,iCACAiG,MAAA,MACAC,SAAA,eACAC,OAAA,MAGAnG,KAAA,qBACAiG,MAAA,MACAC,SAAA,eACAC,OAAA,MAGAnG,KAAA,sCACAiG,MAAA,MACAC,SAAA,cACAC,OAAA,MAGAnG,KAAA,mBACAiG,MAAA,MACAC,SAAA,cACAC,OAAA,MAGAnG,KAAA,2BACAiG,MAAA,MACAC,SAAA,cACAC,OAAA,MAGAnG,KAAA,yBACAiG,MAAA,MACAC,SAAA,SACAC,OAAA,MAGAnG,KAAA,0BACAiG,MAAA,MACAC,SAAA,SACAC,OAAA,MAGAnG,KAAA,mCACAiG,MAAA,MACAC,SAAA,SACAC,OAAA,MAGAnG,KAAA,8BACAiG,MAAA,MACAC,SAAA,SACAC,OAAA,MAGAnG,KAAA,gBACAiG,MAAA,MACAC,SAAA,SACAC,OAAA,UCtEAnK,QAAAC,OAAA,UAAAM,WACA,cAEA,SACA,eACA,cACA,SACA,SAAAQ,EAAAqJ,EAAAxB,EAAAb,GACA,GAAAc,GAAAD,EAAAE,IAAA,eAEAuB,EAAA,SAAApB,GACA,GAAAqB,GAAAC,OAAAtB,EAAAuB,QACAvB,GAAAwB,eAAAH,EAAAI,UAGA7B,GAAAE,UAAA5G,KAAA,SAAA6G,GACAG,EAAA9B,KAAA2B,EAAAqB,GACAtJ,EAAAiI,MAAAA,IAEAjI,EAAA4J,iBACAvH,KAAA,SACAA,KAAA,SACAA,KAAA,mBAEArC,EAAAgF,UAAA,EAAA,SAEAhF,EAAA6J,QAAA,GAEA7J,EAAA8J,WAAA,SAAAC,EAAAC,GAMA,MALAtH,GAAA,WAAAqH,GAAApE,KAAA,QAAA,WACA3F,EAAA2H,OAAA,WACA3H,EAAAiK,iBAAAD,OAGAD,GAGA/J,EAAAiK,iBAAA,SAAApJ,GACAb,EAAA6J,QAAA,YAAAhJ,EAAAqI,OAEAlJ,EAAAkK,aACA7H,KAAA,aACAA,KAAA,SACAA,KAAA,UAGArC,EAAAmK,wBAAAd,EAAAJ,KACAjC,EAAAM,GAAA,UAAA,SAAAY,GACAlI,EAAAiI,MAAAjF,KAAAkF","file":"bundle.js","sourcesContent":["angular\n  .module('webapp', ['ngRoute', 'restangular', 'ui.bootstrap'])\n  .config(\n  ['$routeProvider', 'RestangularProvider',\n    function($routeProvider, RestangularProvider) {\n      $routeProvider.\n        when('/',\n             {\n               templateUrl: 'home/home.html',\n               controller: 'HomeCtrl'\n             }).\n        when('/forms',\n             {\n                templateUrl: 'forms/forms.html',\n                controller: 'FormsCtrl'\n             }).\n        when('/dialogs',\n             {\n                templateUrl: 'dialogs/dialogs.html',\n                controller: 'DialogsCtrl'\n             }).\n        when('/tables',\n             {\n                templateUrl: 'tables/tables.html',\n                controller: 'TablesCtrl'\n             }).\n        when('/mongodb',\n             {\n                templateUrl: 'mongodb/mongodb.html',\n                controller: 'MongodbCtrl'\n             }).\n        when('/passport',\n             {\n                templateUrl: 'passport/passport.html',\n                controller: 'PassportCtrl'\n             }).\n        when('/about',\n             {\n                templateUrl: 'about/about.html',\n                //controller: 'AboutCtrl'\n             }).\n        otherwise(\n             {\n                redirectTo: '/'\n             });\n      RestangularProvider.setResponseExtractor(function(response, operation, what, url) {\n        return response.payload;\n      });\n      RestangularProvider.setRestangularFields({\n        id: \"_id\",\n      });\n    }\n]);\n","angular.module('webapp').controller(\n  'ModalInstanceCtrl',\n  [\n    '$scope',\n    '$modalInstance',\n    'items',\n    function ModalInstanceCtrl($scope, $modalInstance, items) {\n\n      $scope.items = items;\n      $scope.selected = {\n        item: $scope.items[0]\n      };\n\n      $scope.ok = function () {\n        $modalInstance.close($scope.selected.item);\n      };\n\n      $scope.cancel = function () {\n        $modalInstance.dismiss('cancel');\n      };\n    }]\n);\n\nangular.module('webapp').controller(\n  'DialogsCtrl',\n  [\n    '$scope',\n    'alertService',\n    '$modal',\n    function($scope, alertService, $modal) {\n      $scope.success = function(msg) {\n        alertService.success(msg);\n      };\n      $scope.info = function(msg) {\n        alertService.info(msg);\n      };\n      $scope.warning = function(msg) {\n        alertService.warning(msg);\n      };\n      $scope.error = function(msg) {\n        alertService.error(msg);\n      };\n      $scope.items = ['Chuck Norris', 'Jean Claude Van Damme', 'Bruce Willis', 'Arnold Schwarzenegger'];\n      $scope.selected = $scope.items[0];\n\n      $scope.open = function () {\n        var modalInstance = $modal.open({\n          templateUrl: 'myModalContent',\n          controller: 'ModalInstanceCtrl',\n          resolve: {\n            items: function () {\n              return $scope.items;\n            }\n          }\n        });\n        modalInstance.result.then(function (selectedItem) {\n          $scope.selected = selectedItem;\n        }\n                                 );\n      };\n    }\n  ]\n);\n\n","angular.module('webapp').controller(\n  'FormsCtrl', \n  [\n    '$scope', \n    '$http',\n    function($scope, $http) {\n      $scope.birthDate = new Date(1975, 0, 29);\n      $scope.firstName = 'Thomas';\n      $scope.lastName = 'Haukland';\n      $scope.email = 'thomas.haukland@gmail.com';\n      $scope.sex = 'male';\n\n      $scope.possibleInterests = [\n        'soccer', 'billiards', 'ping pong',\n        'tv', 'bridge', 'running', 'junk food'\n      ];\n\n      $scope.selectedInterests = {};\n\n      $scope.open = function($event) {\n             $event.preventDefault();\n             $event.stopPropagation();\n\n             $scope.opened = true;\n      };\n      $scope.format = 'yyyy-MM-dd';\n\n      $http.get('/api/backgrounds').success(function(data) {\n        $scope.backgrounds = data;\n      });\n\n      // For debugging only:\n      window.data = $scope;\n\n      $scope.$watch('selectedBackground', function(newValue) {\n        if (newValue) {\n          $('html').css('background-image', 'url(/assets/img/backgrounds/' + newValue + ')');\n        }\n      });\n    }\n  ]\n);\n\n","angular.module('webapp').controller(\n  'HomeCtrl', \n  [\n    '$scope', \n    '$http',\n    function($scope, $http) {\n      function toArray(obj) {\n        var ret = [];\n        if (obj) {\n          for (var key in obj) {\n            ret.push({name: key, value: obj[key]});\n          }\n        }\n        return ret;\n      }\n      $http.get('home/package.json').success(function(data) {        \n        data.dependencies = toArray(data.dependencies);\n        data.devDependencies = toArray(data.devDependencies);\n        $scope.server = data;\n      });\n      $http.get('home/bower.json').success(function(data) {\n        data.dependencies = toArray(data.dependencies);\n        data.devDependencies = toArray(data.devDependencies);\n        $scope.client = data;\n      });\n    }\n  ]\n);\n\n","angular.module('webapp').factory(\n  'alertService', \n  [\n    function() {\n      var me = {};\n      me.success = toastr.success;\n      me.info = toastr.info;\n      me.warning = toastr.warning;\n      me.error = toastr.error;\n      return me;\n    }\n  ]\n);\n\n","angular.module('webapp').factory(\n  'authService', \n  [\n    '$http', \n    function($http) {\n      var me = {};\n\n      var promise = $http.get('/auth/account');\n\n      me.getAccount = function(next) {\n        promise.then(function(result) {\n          next(result.data);\n        });\n      };\n\n      me.logout = function(next) {\n        $http.get('/auth/logout').then(function() {\n          promise = $http.get('/auth/account');\n          next();\n        });\n      };\n\n      return me;\n    }\n  ]\n);\n\n","// Nicked from:\n// http://jsfiddle.net/zdam/7kLFU/\n// Added som BS styling of search field\nangular.module('webapp').directive(\n  'datatables', function() {\n  return function(scope, element, attrs) {\n    // apply DataTable options, use defaults if none specified by user\n    var options = {\n        \"bStateSave\": false,\n        //\"iCookieDuration\": 2419200, /* 1 month */\n        \"bJQueryUI\": false,\n        \"bPaginate\": true,\n        \"bLengthChange\": true,\n        \"bFilter\": true,\n        \"bInfo\": true,\n        \"bDestroy\": true,\n        \"sPaginationType\": \"bs_normal\"\n    };\n    if (attrs.datatables && attrs.datatables.length > 0) {\n      options =  $.extend(options,scope.$eval(attrs.datatables));\n    }\n    if (attrs.columns) {\n      options.columns = scope.$eval(attrs.columns);\n    }\n    if (attrs.sorting) {\n      options.aaSorting = scope.$eval(attrs.sorting);\n    }\n    if (attrs.fnRowCallback) {\n      options.fnRowCallback = scope.$eval(attrs.fnRowCallback);\n    }\n    //apply the plugin\n    var dataTable = element.dataTable(options);\n\n    var $dataTable = $(dataTable);\n    // SEARCH - Add the placeholder for Search and Turn this into in-line form control\n    var search_input = $dataTable.closest('.dataTables_wrapper').find('div[id$=_filter] input');\n    search_input.attr('placeholder', 'Search');\n    search_input.addClass('form-control input-sm');\n    // LENGTH - Inline-Form control\n    var length_sel = $dataTable.closest('.dataTables_wrapper').find('div[id$=_length] select');\n    length_sel.addClass('form-control input-sm');\n    $dataTable.bind('page', function(e){\n      if (window.console) console.log('pagination event:', e); //this event must be fired whenever you paginate\n    });\n\n    //watch for any changes to our data, rebuild the DataTable\n    scope.$watch(attrs.data, function(value) {\n      var val = value || null;\n      if (val) {\n        dataTable.fnClearTable();\n        dataTable.fnAddData(scope.$eval(attrs.data));\n      }\n    }, true);\n  };\n});\n\n","// Nicking the bsNavbar directive from angular strap\n// (only 1 needed not in angular.ui)\nangular.module('webapp').directive('bsNavbar', \n  ['$location',\n  function($location) {\n  'use strict';\n\n  return {\n    restrict: 'A',\n    link: function postLink(scope, element, attrs, controller) {\n      // Watch for the $location\n      scope.$watch(function() {\n        return $location.path();\n      }, function(newValue, oldValue) {\n\n        $('li[data-match-route]', element).each(function(k, li) {\n          var $li = angular.element(li),\n          // data('match-rout') does not work with dynamic attributes\n          pattern = $li.attr('data-match-route'),\n          regexp = new RegExp('^' + pattern + '$', ['i']);\n\n          if(regexp.test(newValue)) {\n            $li.addClass('active');\n          } else {\n            $li.removeClass('active');\n          }\n\n        });\n      });\n    }\n  };\n}]);\n","angular.module('webapp').factory('socket', ['$rootScope',\nfunction($rootScope, $routeParams) {\n    var socket = window.io.connect();\n    var me = {};\n    me.join = function(room) {\n        me.emit('join', room);\n    };\n    me.on = function(eventName, callback) {\n        socket.on(eventName, function() {\n            var args = arguments;\n            $rootScope.$apply(function() {\n                callback.apply(socket, args);\n            });\n        });\n    };\n    me.emit = function(eventName, data, callback) {\n        socket.emit(eventName, data, function() {\n            var args = arguments;\n            $rootScope.$apply(function() {\n                if (callback) {\n                    callback.apply(socket, args);\n                }\n            });\n        });\n    };\n    return me;\n}]);\n","angular.module('webapp').controller(\n  'MongodbCtrl', \n  [\n    '$scope', \n    'Restangular',\n    function($scope, Restangular) {\n      var todoApi = Restangular.all('api/v1/Todo');\n\n      todoApi.getList().then(function(todos) {\n        $scope.todos = todos;\n      });\n\n      $scope.delete = function(todo) {\n        // remove from rest-api\n        todo.remove().then(function() {\n          // remove from clientside array\n          $scope.todos = _.without($scope.todos, todo);\n        });\n      };\n\n      $scope.save = function(todo) {\n        todo.put();\n      };\n\n      $scope.create = function() {\n        var newTodo = {text: $scope.newText, done: false};\n        // Add to rest-api\n        todoApi.post(newTodo).then(function() {\n          // Add to clientside array\n          $scope.todos.push(newTodo);\n        });\n      };\n    }\n  ]\n);\n\n","angular.module('webapp').controller(\n  'PassportCtrl', \n  [\n    '$scope', \n    '$http',\n    'authService',\n    function($scope, $http, authService) {\n\n      $scope.loggedIn = false;\n\n      authService.getAccount(function(account) {\n        $scope.account = account;\n        $scope.loggedIn = account && account.id;\n      });\n\n      $scope.logout = function() {\n        authService.logout(function() {\n          delete $scope.account;\n          $scope.loggedIn = false;\n        });\n      };\n    }\n  ]\n);\n\n","angular.module('webapp').factory(\n  'carsProvider',\n  [\n    function carsProvider() {\n      return { cars:\n      [\n      {\n        \"name\": \"1948 Porsche 356-A Roadster\",\n        \"price\": 53.9,\n        \"category\": \"Classic Cars\",\n        \"action\":\"x\"\n      },\n      {\n        \"name\": \"1948 Porsche Type 356 Roadster\",\n        \"price\": 62.16,\n        \"category\": \"Classic Cars\",\n        \"action\":\"x\"\n      },\n      {\n        \"name\": \"1949 Jaguar XK 120\",\n        \"price\": 47.25,\n        \"category\": \"Classic Cars\",\n        \"action\":\"x\"\n      },\n      {\n        \"name\": \"1936 Harley Davidson El Knucklehead\",\n        \"price\": 24.23,\n        \"category\": \"Motorcycles\",\n        \"action\":\"x\"\n      },\n      {\n        \"name\": \"1957 Vespa GS150\",\n        \"price\": 32.95,\n        \"category\": \"Motorcycles\",\n        \"action\":\"x\"\n      },\n      {\n        \"name\": \"1960 BSA Gold Star DBD34\",\n        \"price\": 37.32,\n        \"category\": \"Motorcycles\",\n        \"action\":\"x\"\n      } ,\n      {\n        \"name\": \"1900s Vintage Bi-Plane\",\n        \"price\": 34.25,\n        \"category\": \"Planes\",\n        \"action\":\"x\"\n      },\n      {\n        \"name\": \"1900s Vintage Tri-Plane\",\n        \"price\": 36.23,\n        \"category\": \"Planes\",\n        \"action\":\"x\"\n      },\n      {\n        \"name\": \"1928 British Royal Navy Airplane\",\n        \"price\": 66.74,\n        \"category\": \"Planes\",\n        \"action\":\"x\"\n      },\n      {\n        \"name\": \"1980s Black Hawk Helicopter\",\n        \"price\": 77.27,\n        \"category\": \"Planes\",\n        \"action\":\"x\"\n      },\n      {\n        \"name\": \"ATA: B757-300\",\n        \"price\": 59.33,\n        \"category\": \"Planes\",\n        \"action\":\"x\"\n      }\n\n      ]\n    };\n  }\n  ]\n);\n\n","angular.module('webapp').controller(\n  'TablesCtrl',\n  [\n    '$scope',\n    'carsProvider',\n    'Restangular',\n    'socket',\n    function TableCtrl($scope, carsProvider, Restangular, socket) {\n      var todoApi = Restangular.all('api/v1/Todo');\n\n      var formatTodo = function(todo) {\n        var m = moment(todo.created);\n        todo.createdTextual = m.fromNow();\n      };\n\n      todoApi.getList().then(function(todos) {\n        _.each(todos, formatTodo);\n        $scope.todos = todos;\n      });\n      $scope.todoColumnDefs = [ \n        { \"data\": \"text\"},\n        { \"data\": \"done\" },\n        { \"data\": \"createdTextual\" }\n      ]; \n      $scope.sorting = [[2, 'desc']];\n\n      $scope.message = '';\n\n      $scope.myCallback = function(nRow, aData, iDisplayIndex, iDisplayIndexFull) {            \n        $('td:eq(2)', nRow).bind('click', function() {\n          $scope.$apply(function() {\n            $scope.someClickHandler(aData);\n          });\n        });\n        return nRow;\n      };\n\n      $scope.someClickHandler = function(info) {\n        $scope.message = 'clicked: '+ info.price;\n      };\n      $scope.columnDefs = [ \n        { \"data\": \"category\"},\n        { \"data\": \"name\" },\n        { \"data\": \"price\" }\n      ]; \n\n      $scope.sampleProductCategories = carsProvider.cars;\n      socket.on('newTodo', function(todo) {\n        $scope.todos.push(todo);\n      });\n    }\n  ]\n);\n\n"],"sourceRoot":"/source/"}